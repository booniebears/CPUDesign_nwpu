# 关于书上所提的AXI接口模块和Burst

## AXI接口模块

我的理解就是说，如果在Cache里面写太多AXI交互的东西不够清晰（这样是CPU<--->Cache<--AXI->MEM），我们要写清晰一点的话，就是，（CPU<--->Cache<--->AXI模块<--->MEM）

Cache给AXI模块输入的是一种类似AXI接口的信息。这个需要自己去定义一些。

可以看到，Cache和CPU交互的内部总线还是很简单的，修改的地方很少。模块也足够清晰。

这就需要我们设计这个接口模块了。

## 突发传输

按照龙芯的Doc，类SRAM转接桥也是AXI接口了已经，但是不支持Burst传输，**“效率偏低，且不支持 burst 传输”** 这样的话Burst传输对整个CPU效率的提升是有一定的影响的。

龙芯书P234的意思就是说，为了简化Cache和AXI模块的交互，这边设计先保证功能。

读MEM的话，AXI模块每个周期至多返回32位数据，这样按理来说CPU就够用了。要是写操作呢，Cache一个行（16个字节）的数据我都给你传到AXI模块里面去，然后AXI接口模块里面放一个临时寄存器存这些东西。

书P196页最后一个信号，awburst：就是burst传输的类型，书上固定为了0b01；

AWBURST指burst操作中地址的变化形式一般有三类：

- FIXED（AxBURST[1:0]=0b00）：固定突发模式，每次突发传输的地址相同

  INCR（AxBURST[1:0]=0b01）：增量突发模式，突发传输地址递增，递增量与突发尺寸相关

  WRAP（AxBURST[1:0]=0b10）：回卷突发模式，突发传输地址可溢出性递增，突发长度仅支持2,4,8,16。地址空间被划分为长度【突发尺寸*突发长度】的块，传输地址不会超出起始地址所在的块，**一旦递增超出，则回到该块的起始地址**。

那这样的话，我就可以写请求得到握手之后，不停的发送数据啦。



# 关于Uncache

龙芯的书为了防止混淆，起初是没有Uncache操作的，**之后需要在Cache模块接口增加1比特信号**指示当前请求的Cache属性。

我觉得需要注意的地方：

- Uncache的地方一个是固定的，一个就是TLB指示的，所以需要进行配置。做好数据通路。

- 需要注意P245 10.3节上面那个，保证Uncache访问I/O外设的正确性。

- 这就需要进一步修改。

  

  



