### NonTrival-CPU设计讨论内容

**日志：2021.3.13**

讨论记录：

1. 数据冒险的检测：将**R型指令&I型指令**分开判断
   + R型指令检测**rs和rt字段**
   + I型指令检测**rs字段** (rt寄存器作为目的寄存器时)
   + I型指令检测**rs字段 & rt字段**

2. J型指令

   + JALR & JR指令 放在EXE级执行
   + J和JAL指令 放在ID级执行

3. B型指令

   + 采用分支预测的方式
   + 在EXE级获取到真正的判断结果

4. HiLo & CP0 寄存器

   + 在EXE读取数据
   + 在EXE级需要完成数据旁路

5. 异常处理模块（**精确异常**）

   + Flush信号产生位于MEM级产生

   + 在WB级向CP0 & HiLo写入数据

6. Lw后接Sw 

   + MEM级可以直接旁路（不用在阻塞了...）
   + 可以采用（1）中的方法解决

7. branch 上两级发生数据依赖（branch 只和add2发生数据依赖）

   + branch + add1 + add2指令
   + 可以在ID级和MEM级做旁路

8. flush信号的清零

   + 所有寄存器信号全部清零

     